---
title: 4. Sharing Dependencies in run-time
date: 'June 11, 2022'
description: Can we share dependencies in runtime?
---

**shared** config in webpack allows you to specify dependencies that should be shared across apps.

Once remoteEntry for child is loaded, if theres a dependency that exists in both apps, container can decide in runtime whether to load either one copy of the deps or both.

<SyntaxHighlighter language="javascript" className="syntax-highlighter">
  {`
    // example webpack.config.js
    const deps = require("./package.json").dependencies;
    module.exports = {
    
    // ...
    shared: [
        {
          ...deps,
          react: { singleton: true, eager: true },
          "react-dom": { singleton: true, eager: true }
        }
      ]
    }
  `}
</SyntaxHighlighter>

## Example with different version of faker

The below sandbox is an example app with both child and container having different versions of faker.

<div className="iframe-container">
  <iframe
    src="https://codesandbox.io/embed/mfe-intro-mod-share-deps-mod-fed-intro-r371yc?autoresize=1&expanddevtools=1&fontsize=14&module=%2Fcontainer%2Fpackage.json&theme=dark"
    style={{
      width: '100%',
      height: '600px',
      border: '0',
      borderRadius: '4px',
      overflow: 'hidden',
    }}
    title="mfe-intro-mod-share-deps #mod-fed-intro"
    allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
    sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  />
</div>

## Specifying shared dependencies

<div className="iframe-container">
  <iframe
    src="https://codesandbox.io/embed/mfe-intro-mod-share-deps-2-mod-fed-intro-bm9lgp?autoresize=1&expanddevtools=1&fontsize=14&module=%2Fcontainer%2FApp.jsx&moduleview=1&theme=dark"
    style={{
      width: '100%',
      height: '600px',
      border: '0',
      borderRadius: '4px',
      overflow: 'hidden',
    }}
    title="mfe-intro-mod-share-deps #mod-fed-intro"
    allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
    sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
  />
</div>

<div className="page-menu-bottom">
  <Link href="/3-basic-repo-setup" passHref>
    <div className="menu-link"> {'< Basic Repo Setup'}</div>
  </Link>
  <Link href="/5-interapp-communication" passHref>
    <div className="menu-link">{'Inter-app communication & Routing>'}</div>
  </Link>
</div>
